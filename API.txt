DOKUMENTASI API YODI

Template Response =

Success => {
  status: "success",
  data: (if data exist),
  message: (if message exist),
}

Fail => {
  status: "fail",
  message: errorMessage
}

Error => {
  status: 'error',
  message: 'terjadi kesalahan pada server kami',
}

------ GUEST ------

Common Fail :
- POST => Body request tidak sesuai


REGISTER 
POST API/REGISTER
Body Request : {
  username: string,
  email: string,
  password: string,
}

Response Data = {
  token: string,
}

fail:
- Username dan email sudah pernah dipakai
- email tidak valid
- password kurang dari 8 karakter


LOGIN
POST API/LOGIN
Body Request : {
  email: string,
  password: string,
}

Response = {
  token: string,
}

fail:
- Kredensial salah


Mendapatkan Data Item (hanya menampilkan item yang sudah diverifikasi oleh admin)
GET API/ITEM?page=x&itemCount=x&search=x

jika tidak memberi query page atau itemCount maka akan default page = 1, itemCount = 5
page -> number, itemCount -> number, search -> string | undefined
search -> berdasarkan title

Response Data = {
    "items": [
        {
            seller: {
                user: {
                    username: string,
                    image: string | null
                }
            },
            id: string,
            title: string,
            description: string,
            image: string,
            price: number,
            stock: number
        },
        { ... }
    ]
}

fail :
- page dan itemCount kurang dari 1
- page dan itemCount bukan number


Mendapatkan Data Item By Id (hanya menampilkan item yang sudah diverifikasi oleh admin)
GET API/ITEM/[id]

Response Data = {
  items: {
      seller: {
          user: {
              username: string,
              image: string | null
          }
      },
      id: string,
      title: string,
      description: string,
      image: string,
      price: number,
      stock: number
  },
}

fail:
- item tidak ditemukan


------ USER ------

Common Fail :
- Token tidak ada
- POST => Body request tidak sesuai


Mendapatkan data diri
GET API/ME

Response Data = {
  username: string,
  email: string,
  image: string,
  createdAt: string,
  updatedAt: string,
}


Mengajukan diri menjadi seller
POST API/ME/UPGRADE

Response Message = "Berhasil mengajukan akun seller"

fail:
- Sudah pernah mengajukan diri
- Role akun bukan user


------ SELLER ------

Common fail :
- Token tidak ada
- User bukan seller
- Seller belum di verifikasi
- POST => Body request tidak sesuai


Mengajukan Item Penjualan
POST API/SELLER/ITEM/SUBMIT

Body Request : {
  title: string,
  description: string | undefined,
  image: string,
  price: number,
  stock: number,
}

Response Message = "Berhasil mengajukan item penjualan"


Mendapatkan list semua item yang diajukan
GET API/SELLER/ITEM?page=x&itemCount=x&search=x

jika tidak memberi query page atau itemCount maka akan default page = 1, itemCount = 5
page -> number | undefined, itemCount -> number | undefined, search -> string | undefined
search -> berdasarkan title

Response Data = {
  items: [
      {
          id: string,
          title: string,
          description: string (default = ""),
          image: string,
          price: number,
          stock: number,
          verifiedAt: string | null, //null jika belum di verifikasi admin
          createdAt: string,
          updatedAt: string,
      },
      {
        ...
      }
  ]
}

fail :
- page dan itemCount kurang dari 1
- page dan itemCount bukan number



Mendapatkan Item by Id
GET API/SELLER/ITEM/[id]
id => itemId

Response Data = {
  items: {
      id: string,
      title: string,
      description: string (default = ""),
      image: string,
      price: number,
      stock: number,
      verifiedAt: string | null, //null jika belum di verifikasi admin
      createdAt: string,
      updatedAt: string,
  },
}

fail :
- Item tidak ditemukan



Mendapatkan list semua item yang sudah diverifikasi
GET API/SELLER/ITEM?page=x&itemCount=x&search=x&verified=x

jika tidak memberi query page atau itemCount maka akan default page = 1, itemCount = 5
page -> number | undefined, itemCount -> number | undefined, search -> string | undefined ,verified -> string apapun
search -> berdasarkan title

Response Data = {
  items: [
      {
          id: string,
          title: string,
          description: string (default = ""),
          image: string,
          price: number,
          stock: number,
          verifiedAt: string,
          createdAt: string,
          updatedAt: string,
      },
      {
        ...
      }
  ]
}

fail :
- page dan itemCount kurang dari 1
- page dan itemCount bukan number




------ ADMIN ------

Common fail :
- Token tidak ada
- User bukan admin


Meverifikasi akun seller
POST API/ADMIN/SELLER/VERIFY/[id]
id => sellerId

Response Message = "Seller berhasil diverifikasi"

fail:
- Seller tidak ditemukan
- Seller sudah diverifikasi


Meverifikasi item seller
POST API/ADMIN/ITEM/VERIFY/[id]
id => itemId

Response Message = "Item berhasil di verifikasi"

fail:
- Item tidak ditemukan
- Item sudah diverifikasi


Mendapatkan semua akun
GET API/ADMIN/ACCOUNT?page=x&itemCount=x&search=x

jika tidak memberi query page atau itemCount maka akan default page = 1, itemCount = 5
page -> number | undefined, itemCount -> number | undefined, search -> string | undefined
search -> berdasarkan username/email

Response Data = accounts: [
    {
        id: string,
        username: string,
        email: string,
        image: string | null,
        address: string | null,
        phoneNumber: string | null,
        createdAt: string,
        updatedAt: string,
        seller: {
            id: string,
            verifiedAt: string | null,
        } | null
    },
    { ... }
]


Mendapatkan akun by id
GET API/ADMIN/ACCOUNT/[id]
id => userId

Response Data = accounts: {
    id: string,
    username: string,
    email: string,
    image: string | null,
    address: string | null,
    phoneNumber: string | null,
    createdAt: string,
    updatedAt: string,
    seller: {
        id: string,
        verifiedAt: string | null,
    } | null
}


Mendapatkan semua akun seller
GET API/ADMIN/SELLER?page=x&itemCount=x&search=x

jika tidak memberi query page atau itemCount maka akan default page = 1, itemCount = 5
page -> number | undefined, itemCount -> number | undefined, search -> string | undefined
search -> berdasarkan username/email

Response Data = accounts: [
    {
        id: string,
        verifiedAt: string | null,
        createdAt: string,
        user: {
            id: string,
            username: string,
            email: string,
            image: string | null,
            address: string | null,
            phoneNumber: string | null,
            createdAt: string,
            updatedAt: string
        }
    }
]


Mendapatkan akun seller by id
GET API/ADMIN/SELLER/[id]
id => sellerId

Response Data = accounts: {
    id: string,
    verifiedAt: string | null,
    createdAt: string,
    user: {
        id: string,
        username: string,
        email: string,
        image: string | null,
        address: string | null,
        phoneNumber: string | null,
        createdAt: string,
        updatedAt: string
    }
}

fail:
- seller tidak ditemukan

